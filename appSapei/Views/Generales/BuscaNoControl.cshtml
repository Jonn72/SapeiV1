
<div class="x_title">
    <div class="col-md-12 center-margin">
        <div class="input-group">
            <input type="text" id="txtBuscarNoControl" class="form-control" placeholder="Ingrese el no. de control" required>
            <span class="input-group-btn">
                <button class="btn btn-default btn-success"  type="button" id="btnBuscarNoControl"><i class="fa fa-search"></i></button>
                <button class="btn btn-default btn-dark" id="btnBuscarNoControlTabla" title="Mostrar Datos" type="button"><i class="fa fa-table"></i></button>
            </span>
        </div>
    </div>
    <div class="clearfix"></div>
</div>

<script>
    $(document).ready(

        $("#btnBuscarNoControl").on('click', function (evento) {
            var control = $("#txtBuscarNoControl").val().trim();

            if (ValidaNoControl($("#txtBuscarNoControl")))
                BuscaNoControl(control);
            else
                return;
            evento.preventDefault();
        })
    );
    function OcultaBuscaNoControlRegresar(valor) {
        if (valor)
            $("#btnBuscarNoControlRegresar").hide();
        else
            $("#btnBuscarNoControlRegresar").show();
    }
    function OcultaBuscaNoControlTabla(valor) {
        if (valor)
            $("#btnBuscarNoControlTabla").hide();
        else
            $("#btnBuscarNoControlTabla").show();
    }

    function BuscaNoControl(control) {
        var url;
        @{
               string lsURL = "";
               if (ViewData["Vista"] != null)
               {
                     lsURL = ViewData["Vista"].ToString();
               }
        }
        url = '../../../../@lsURL';
        $("#divDatos").load(url, { psNoControl: control });
        $("#divDatos").show();
        event.preventDefault();
    }
    $("#btnBuscarNoControlTabla").on('click', function (evento) {
        $('#divModal').modal("show");
        evento.preventDefault();
    })
</script>
